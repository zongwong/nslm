<style lang="scss">
.index-banner{
  height: 388rpx;
  padding-left: 18rpx;
}
.index-banner image{
  height: 100%;
  width: 100%;
}
.openDaka{
  width: 108rpx;
  height: 108rpx;
  position: fixed;
  bottom: 134rpx;
  right: 16rpx;
  z-index: 1;
}
//search
.searchbar{
    width:100%;
    height: 100rpx;
    background: #fff;
    padding: 20rpx 0;
    box-sizing: border-box;
    display: flex;
    justify-content: space-around;
    .searchbox{
        background:#f8f8f8;
        height: 60rpx;
        width:560rpx;
        border: 1px solid #f5f5f5;
        border-radius: 40rpx;
        margin-right: 16rpx;
        text-align: center;
        .search-icon{
            display: inline-block;
            vertical-align: middle;
            margin-right: 12rpx;
            width: 38rpx;
            height: 38rpx;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFGRUE5MDc1REMxNDExRTdBQjFGODdFODVFMDU1MDZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFGRUE5MDc2REMxNDExRTdBQjFGODdFODVFMDU1MDZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MUZFQTkwNzNEQzE0MTFFN0FCMUY4N0U4NUUwNTUwNkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MUZFQTkwNzREQzE0MTFFN0FCMUY4N0U4NUUwNTUwNkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5N+cWoAAADbElEQVR42syYbWiNYRjHn3M2Y5ptaWxmSVgzeRuTJsMIoSFiKUYRzdskzMon4oNaJMUHzTT7gA9bKMLEzkKE2LIZ+TCMzUvm/WUv/lf9T93d9pw95+w853HVr/t6zjnPc/7P/XLd13W7SorLDD8sDGSALDAWDAcxIBx8B29BA7gFroHXRoAWbvF3g8FmkAsSffxuJJgB1oMOcBMcBRW8DpqwPmA32AUilc+bQTWoBy3gJ4gGSWAMezWSPSvUgk2gKhjCRoOzIJXX8ucl4BS4Y+GFskEehcmzboAjoAD86k6Y2+TzOeA2RXWC05xPeRZEeV/iHJgJpoHHwAXywRUQG4iw2eACiAKtYAlYBZoCnMcekA4O8VqEVnLRWBaWyjeNAG/4kAqj5/YHbAcbQDuYwP8JM13+ixctVeeFdPMQ9pQMQ40RXLsP3oEFnBrtXLk+e2wnV5TMqZU2iPLaMVBMfw9DjKmwBFBIX266aNhrsggaQS9Q5EtYPuPOV8Ytu039n3kgrSthMgHX8Po4eG+Exs6AZwwj67oSlsmhNJSxD4V1MGCLLdcjhFzMol9HQmnlbOPAOF1YOv0qI/RWx31XbJIuLIX+E8MZq2ebrAvrT7/JIWHenG2gLsy7Z/1wSNhntn11YV/oRzgkLIrtb13YJ/rxDgmLY/tBF9ZAP8UhYaPYvtCFPaKf6YCoJGYzYg90YZX001h0hNKylb3zni5MyqyP9HNDLGw120t6VHBzNZTyeqtWDdlpshVOpn/CLO0posAEVjF2m2Q0B+k/BFfNhL0Eh+lLnjTeZmEFzPs7mTl3+kqt94HnoDcLhQE2iVoI9tI/qSw+U2GyMnJ4BjECXLYh6MrzyjiUUmtusVq+SSxZoZRYHhuGtU2pM4b6U/CeB8tYTSezIi8M0l7azCq/ldnEdeUIwtIRQTnrykbWmweYn2/T0xMTkzx+okmPSCCdS3HxFPdPCefq5nwslotio/ISbTy/8HCfbWGo6QeGcQeRlxrEwB2vDJ9qGQysMaz65fDlqVVh6tHBDhYNUX4MXS3naLvJ91MoLpqJapY3qXD7kZuvZS/ksMy7q6UqHYyHMjT7wfRuRInJyeN85oSJvDfZnx6zcs7W1oP7p7LnZDReSc+5gxwCArVq9tw3pkKlbuP/MQ/FyUKo+SvAACs1vgre/sNkAAAAAElFTkSuQmCC) center / 100% no-repeat;
        }
        input{
            font-size:26rpx;
            display: inline-block;
            vertical-align: middle;
        }
    }
    .searchinfo{
        background:#f8f8f8 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE5QjJDRjc4REMxNDExRTc4NUJFRDExNjU0OUUyQjJBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE5QjJDRjc5REMxNDExRTc4NUJFRDExNjU0OUUyQjJBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTlCMkNGNzZEQzE0MTFFNzg1QkVEMTE2NTQ5RTJCMkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTlCMkNGNzdEQzE0MTFFNzg1QkVEMTE2NTQ5RTJCMkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5VIjDSAAAB40lEQVR42qyWyytEURzHryHEwkaUhWhEEUpJynPhMSnlsfBIFh4LC0pS/guvbDSDjEfJcyObwcJCKBkpk1esSGQpz++p762b7r2dcc+vPv3mzj3nM+f85p7fTMSsb0GziHzQBKpAKkgEz+ABHIB5cGo2McrkvQwwDjwm91JIERgE62AYXBkHuf5MEqIj5i9O6gQFIA3kgg6wAj5AAzgGdVYrrQdrIJLb6wUXJqs9B37uaBpUgE3QDDaMK80CixTOgUoLoTGuWO8ZzhMflGmUihrGg33Qxa3JxCfoAXucP6lLC0E1B/SxluGEGN/N+WLlhULaxpurElu2imu9nohWIS3jxZbmLPT55ULq5sWlQ2mQ2e1iXUVdbh1KX5kToljcWPDiUJrE/CKkh5qayGO+cWnqopE5oEqaA2r42q9CGg28PKqiBwSdSsUXvMxW+Ab6zVpfOFECTtj+3lnT+/9KY8AEm082eGT/Ddh1fruIA9s82j/AB4YMD/6/pF4KhaQV7Mj+RllFLWhhr/XYHZpwajpiaOi2p1BWmgxKwbfe3VVIi0EECIE7VVK9557JDJaVJuptTaX0iTkkM1j2kRoDu7Lbl5V+W/0Zc/qcaqql6WCUWZm0HQwwK6vpFJvIkszgXwEGAKKTYPiCsJZsAAAAAElFTkSuQmCC) center no-repeat;
        background-size: 21rpx 34rpx;
        height: 60rpx;
        width: 60rpx;
        border: 1px solid #f5f5f5;
        border-radius: 50%;
    }
}
//pk弹层
.pkMoadl{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,.8);
  z-index: 10;
  .pkContent{
    background:#fff;
    width: 592rpx;
    height: 670rpx;
    border-radius: 30rpx;
    position: absolute;
    top: 178rpx;
    left: 94rpx;
    box-sizing: border-box;
    padding-right: 50rpx;
    .icon_fly{
      position: absolute;
      top: -80rpx;
      left: -70rpx;
      width: 310rpx;
      height: 662rpx;
    }
    .title{
      font-size: 54rpx;
      line-height: 1;
      margin: 84rpx 0 14rpx 0;
      color: #ff508a;
      text-align: right;
    }
    .desc{
      font-size: 30rpx;
      text-align: right;
      line-height: 1;
      margin-bottom: 30rpx;
    }
    .content{
      font-size: 28rpx;
      color: #a9a9a9;
      padding-left: 176rpx;
      text-indent: 2em;
      text-align: justify;
      padding-bottom: 10rpx;
      max-height: 410rpx;
      overflow: hidden;
    }
  }
  .close{
    top: 880rpx;
    z-index: 11;
  }
}

</style>
<template>
  <view>
    <view class="searchbar">
      <view class="searchbox">
          <text class="search-icon"></text>
          <input placeholder="输入PK码赢取好友奖金！" @confirm="searchConfirm" />
      </view>
      <view class="searchinfo" @tap="pkModal(1)"></view>       
    </view>
    <view class="index-banner">
      <image src="../../images/banner.png"></image>
    </view> 
    <tabNav :navs="typeNavs"></tabNav>
    <activityList ></activityList>
    <navigator url="/pages/index/start"><image class="openDaka" src="../../images/icon-dk.png"></image></navigator> 
    <!-- pk码说明弹层 -->
    <view class="pkMoadl" wx:if="{{pkHelp}}">
      <view class="pkContent">
        <image class="icon_fly" src="../../images/pkbg.png"></image>
        <view class="title">什么是PK码</view>
        <view class="desc">邀请好友PK的密码</view>
        <view class="content">
          跑步锻炼是人们最常采用的一种身体锻炼方式，这主要是因为跑步技术要求简单，无需特殊的场地、服装或器械。无论在健身房、运动场或马路上，甚至在田野间、树林中均可进行跑步锻炼。可以自己掌握跑步的速度、距离和路线。关注健身与跑步，是对体能最基本的要求，要跑步，要先健身，加强体魄，避免跑步影响身体健康。
        </view>
      </view>
      <view class="close" @tap="pkModal(0)"></view>
    </view>
  </view>
</template>

<script>
import wepy from "wepy";
import interfaces from "../../interface/index";

import activityList from "../../components/index/activityList";
import tabNav from "../../components/index/tabNav";

export default class Index extends wepy.page {
  config = {
    navigationBarTitleText: "首页"
  };
  components = {
    tabNav:tabNav,
    activityList:activityList,
  };

  data = {
    typeNavs:[
        {
            text:'按热度',
            selected:true,
        },{
            text:'按时间',
            selected:false,
        },{
            text:'按热度',
            selected:false,
        }
    ],
    pkHelp:false,
  };

  computed = {
    now() {
      return +new Date();
    }
  };

  methods = {
    //pk码说明
    pkModal(flag) {
      if(flag==1){
        this.pkHelp = true;
      }else{
        this.pkHelp = false;
      }
    },
    //搜索
    searchConfirm(event) {
      let value = event.detail.value;
      // async search(){}
      wx.navigateTo({
        url: '/pages/index/detail',
        success: function(res){
        },
      })
    },
  };

  events = {
    'navTapEvent':(index) => {
      console.log(index)
    }
  };

  onLoad() {
    let self = this;
    // interfaces.login()
    // this.$parent.getUserInfo(function (code,userInfo) {
    //   if (userInfo) {
    //     self.userInfo = userInfo
    //         wepy.request({
    //           url: api.users.login.url,
    //           method: api.users.login.method,
    //           data: {
    //             code: code,
    //             userInfo: userInfo
    //           }
    //         });
    //   }
    //   self.normalTitle = '标题已被修改'

    //   self.setTimeoutTitle = '标题三秒后会被修改'
    //   setTimeout(() => {
    //     self.setTimeoutTitle = '到三秒了'
    //     self.$apply()
    //   }, 3000)

    //   self.$apply()
    // })
  }
}
</script>
