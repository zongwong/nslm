<style lang="scss">
.index-banner{
  height: 388rpx;
  padding-left: 18rpx;
}
.index-banner image{
  height: 100%;
  width: 100%;
}
.openDaka{
  width: 108rpx;
  height: 108rpx;
  position: fixed;
  top: 970rpx;
  right: 16rpx;
  z-index: 1;
}
</style>
<template>
  <view>
    <searchBar></searchBar>
    <view class="index-banner">
      <image src="../../images/banner.png"></image>
    </view> 
    <tabNav></tabNav>

    <activityList></activityList>
    <image class="openDaka" src="../../images/icon-dk.png"></image> 
  </view>
</template>

<script>
import wepy from "wepy";
import interfaces from "../../interface/index";

import activityList from "../../components/index/activityList";
import searchBar from "../../components/index/searchBar";
import tabNav from "../../components/index/tabNav";

export default class Index extends wepy.page {
  config = {
    navigationBarTitleText: "首页"
  };
  components = {
    searchBar: searchBar,
    tabNav:tabNav,
    activityList:activityList,
  };

  data = {};

  computed = {
    now() {
      return +new Date();
    }
  };

  methods = {};

  events = {};

  onLoad() {
    let self = this;
    // interfaces.login()
    // this.$parent.getUserInfo(function (code,userInfo) {
    //   if (userInfo) {
    //     self.userInfo = userInfo
    //         wepy.request({
    //           url: api.users.login.url,
    //           method: api.users.login.method,
    //           data: {
    //             code: code,
    //             userInfo: userInfo
    //           }
    //         });
    //   }
    //   self.normalTitle = '标题已被修改'

    //   self.setTimeoutTitle = '标题三秒后会被修改'
    //   setTimeout(() => {
    //     self.setTimeoutTitle = '到三秒了'
    //     self.$apply()
    //   }, 3000)

    //   self.$apply()
    // })
  }
}
</script>
